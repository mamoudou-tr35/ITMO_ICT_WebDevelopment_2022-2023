{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u041f\u0420\u0410\u041a\u0422\u0418\u0427\u0415\u0421\u041a\u0410\u042f \u0420\u0410\u0411\u041e\u0422\u0410 \u21163.1 \u0417\u0410\u0414\u0410\u041d\u0418\u0415 3.1.1 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. model.py from django.db import models class Transport_owner ( models . Model ): id_owner = models . IntegerField ( primary_key = True ) last_name = models . CharField ( max_length = 30 , null = False ) first_name = models . CharField ( max_length = 30 , null = False ) date_birthday = models . DateField () class Transport ( models . Model ): id_car = models . IntegerField ( primary_key = True ) gov_number = models . CharField ( max_length = 15 , null = False ) marka = models . CharField ( max_length = 20 , null = False ) model_car = models . CharField ( max_length = 20 , null = False ) color = models . CharField ( max_length = 30 , null = True ) class Ownership ( models . Model ): id_owner_car = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Transport_owner , on_delete = models . CASCADE ) id_car = models . ForeignKey ( Transport , on_delete = models . CASCADE ) date_start = models . DateField () sate_end = models . DateField ( null = True ) class Driver_doc ( models . Model ): id_doc = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Transport_owner , on_delete = models . CASCADE ) number_doc = models . CharField ( max_length = 10 , null = False ) type_doc = models . CharField ( max_length = 10 , null = False ) date_start_doc = models . DateField () \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 Transport_owner ( 1 , 'Fam1' , 'Name1' , '1902-01-1' ) . save () Transport_owner ( 2 , 'Fam2' , 'Name2' , '1902-01-2' ) . save () Transport_owner ( 3 , 'Fam3' , 'Name3' , '1902-01-3' ) . save () Transport_owner ( 4 , 'Fam4' , 'Name4' , '1902-01-4' ) . save () Transport_owner ( 5 , 'Fam5' , 'Name5' , '1902-01-5' ) . save () Transport_owner ( 6 , 'Fam6' , 'Name6' , '1902-01-6' ) . save () >>> for i in Transport_owner . objects . all (): ... print ( i ) ... Transport_owner object ( 1 ) Transport_owner object ( 6 ) Transport_owner object ( 2 ) Transport_owner object ( 3 ) Transport_owner object ( 4 ) Transport_owner object ( 5 ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 >>> Transport ( 0 , 'AAA0' , 'Mark0' , 'Model0' , 'color5' ) . save () >>> Transport ( 1 , 'AAA1' , 'Mark1' , 'Model1' , 'color5' ) . save () >>> Transport ( 2 , 'AAA2' , 'Mark2' , 'Model2' , 'color5' ) . save () >>> Transport ( 3 , 'AAA3' , 'Mark3' , 'Model3' , 'color5' ) . save () >>> Transport ( 4 , 'AAA4' , 'Mark4' , 'Model4' , 'color5' ) . save () >>> Transport ( 5 , 'AAA5' , 'Mark5' , 'Model5' , 'color5' ) . save () >>> Transport ( 6 , 'AAA6' , 'Mark6' , 'Model6' , 'color5' ) . save () >>> Transport . objects . all () < QuerySet [ < Transport : Transport object ( 0 ) > , < Transport : Transport object ( 1 ) > , < Transport : Transport object ( 2 ) > , < Transport : Transport object ( 3 ) > , < Transport : Transport object ( 4 ) > , < Transport : Transport object ( 5 ) > , < Transport : Transport object ( 6 ) > ] > >>> \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432 >>> Driver_doc ( '1' , '1' , 'num1' , 'type1' , '1933-05-1' ) . save () >>> Driver_doc ( '2' , '2' , 'num2' , 'type2' , '1933-05-2' ) . save () >>> Driver_doc ( '3' , '3' , 'num3' , 'type3' , '1933-05-3' ) . save () >>> Driver_doc ( '4' , '4' , 'num4' , 'type4' , '1933-05-4' ) . save () >>> Driver_doc ( '5' , '5' , 'num5' , 'type5' , '1933-05-5' ) . save () >>> Driver_doc ( '6' , '6' , 'num6' , 'type6' , '1933-05-6' ) . save () \u041f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 >>> Ownership ( '1' , '1' , '1' , '1936-09-11' , '1940-09-11' ) . save () >>> Ownership ( '2' , '2' , '2' , '1936-09-12' , '1940-09-12' ) . save () >>> Ownership ( '3' , '3' , '3' , '1936-09-13' , '1940-09-13' ) . save () >>> Ownership ( '4' , '4' , '4' , '1936-09-14' , '1940-09-14' ) . save () >>> Ownership ( '5' , '5' , '5' , '1936-09-15' , '1940-09-15' ) . save () >>> Ownership ( '6' , '6' , '6' , '1936-09-16' , '1940-09-16' ) . save () \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:\u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): >>> Transport . objects . filter ( marka = \"Mark5\" ) < QuerySet [ < Transport : Transport object ( 5 ) > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): >>> Transport_owner . objects . filter ( first_name = \"Name2\" ) < QuerySet [ < Transport_owner : Transport_owner object ( 2 ) > ] > \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): >>> needed_id = Transport_owner . objects . all ()[ 3 ] . id_owner >>> Driver_doc . objects . get ( id_owner = needed_id ) < Driver_doc : Driver_doc object ( 3 ) > \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): >>> for i in range ( len ( Transport . objects . filter ( color = \"green\" ))): ... print ( Transport . objects . filter ( color = \"green\" )[ i ]) ... Transport object ( 7 ) \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): >>> Ownership . objects . filter ( date_start__gte = \"1936-01-01\" ) < QuerySet [ < Ownership : Ownership object ( 1 ) > , < Ownership : Ownership object ( 2 ) > , < Ownership : Ownership object ( 3 ) > , < Ownership : Ownership object ( 4 ) > , < Ownership : Ownership object ( 5 ) > , < Ownership : Ownership object ( 6 ) > ] > \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> from django.db.models import Avg , Min , Max , Count >>> Driver_doc . objects . aggregate ( date_start_doc = Min ( \"date_start_doc\" )) { 'date_start_doc' : datetime . date ( 1933 , 5 , 1 )} \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: >>> Ownership . objects . aggregate ( date_start = Max ( \"date_start\" )) { 'date_start' : datetime . date ( 1936 , 9 , 16 )} \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: >>> Ownership . objects . values ( \"id_owner\" ) . annotate ( Count ( \"id_car\" )) < QuerySet [{ 'id_owner' : 1 , 'id_car__count' : 1 }, { 'id_owner' : 2 , 'id_car__count' : 1 }, { 'id_owner' : 3 , 'id_car__count' : 1 }, { 'id_owner' : 4 , 'id_car__count' : 1 }, { 'id_owner' : 5 , 'id_car__count' : 1 }, { 'id_owner' : 6 , 'id_car__count' : 1 }] > \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: >>> Transport . objects . values ( \"marka\" ) . annotate ( Count ( \"id_car\" )) < QuerySet [{ 'marka' : 'Mark7' , 'id_car__count' : 1 }, { 'marka' : 'Mark0' , 'id_car__count' : 1 }, { 'marka' : 'Mark8' , 'id_car__count' : 1 }, { 'marka' : 'Mark2' , 'id_car__count' : 1 }, { 'marka' : 'Mark6' , 'id_car__count' : 1 }, { 'marka' : 'Mark1' , 'id_car__count' : 1 }, { 'marka' : 'Mark5' , 'id_car__count' : 1 }, { 'marka' : 'Mark4' , 'id_car__count' : 1 }, { 'marka' : 'Mark3' , 'id_car__count' : 1 }] > \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> sort_by_date = Driver_doc . objects . all () . order_by ( \"date_start_doc\" ) >>> for i in sort_by_date : ... ... ... needed_id = i . id_owner . id_owner ... print ( Ownership . objects . filter ( id_owner__id_owner = needed_id ) ) ... < QuerySet [ < Ownership : Ownership object ( 1 ) > ] > < QuerySet [ < Ownership : Ownership object ( 2 ) > ] > < QuerySet [ < Ownership : Ownership object ( 3 ) > ] > < QuerySet [ < Ownership : Ownership object ( 4 ) > ] > < QuerySet [ < Ownership : Ownership object ( 5 ) > ] > < QuerySet [ < Ownership : Ownership object ( 6 ) > ] >","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163"},{"location":"#no31","text":"","title":"\u041f\u0420\u0410\u041a\u0422\u0418\u0427\u0415\u0421\u041a\u0410\u042f \u0420\u0410\u0411\u041e\u0422\u0410 \u21163.1"},{"location":"#311","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. model.py from django.db import models class Transport_owner ( models . Model ): id_owner = models . IntegerField ( primary_key = True ) last_name = models . CharField ( max_length = 30 , null = False ) first_name = models . CharField ( max_length = 30 , null = False ) date_birthday = models . DateField () class Transport ( models . Model ): id_car = models . IntegerField ( primary_key = True ) gov_number = models . CharField ( max_length = 15 , null = False ) marka = models . CharField ( max_length = 20 , null = False ) model_car = models . CharField ( max_length = 20 , null = False ) color = models . CharField ( max_length = 30 , null = True ) class Ownership ( models . Model ): id_owner_car = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Transport_owner , on_delete = models . CASCADE ) id_car = models . ForeignKey ( Transport , on_delete = models . CASCADE ) date_start = models . DateField () sate_end = models . DateField ( null = True ) class Driver_doc ( models . Model ): id_doc = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Transport_owner , on_delete = models . CASCADE ) number_doc = models . CharField ( max_length = 10 , null = False ) type_doc = models . CharField ( max_length = 10 , null = False ) date_start_doc = models . DateField () \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 Transport_owner ( 1 , 'Fam1' , 'Name1' , '1902-01-1' ) . save () Transport_owner ( 2 , 'Fam2' , 'Name2' , '1902-01-2' ) . save () Transport_owner ( 3 , 'Fam3' , 'Name3' , '1902-01-3' ) . save () Transport_owner ( 4 , 'Fam4' , 'Name4' , '1902-01-4' ) . save () Transport_owner ( 5 , 'Fam5' , 'Name5' , '1902-01-5' ) . save () Transport_owner ( 6 , 'Fam6' , 'Name6' , '1902-01-6' ) . save () >>> for i in Transport_owner . objects . all (): ... print ( i ) ... Transport_owner object ( 1 ) Transport_owner object ( 6 ) Transport_owner object ( 2 ) Transport_owner object ( 3 ) Transport_owner object ( 4 ) Transport_owner object ( 5 ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 >>> Transport ( 0 , 'AAA0' , 'Mark0' , 'Model0' , 'color5' ) . save () >>> Transport ( 1 , 'AAA1' , 'Mark1' , 'Model1' , 'color5' ) . save () >>> Transport ( 2 , 'AAA2' , 'Mark2' , 'Model2' , 'color5' ) . save () >>> Transport ( 3 , 'AAA3' , 'Mark3' , 'Model3' , 'color5' ) . save () >>> Transport ( 4 , 'AAA4' , 'Mark4' , 'Model4' , 'color5' ) . save () >>> Transport ( 5 , 'AAA5' , 'Mark5' , 'Model5' , 'color5' ) . save () >>> Transport ( 6 , 'AAA6' , 'Mark6' , 'Model6' , 'color5' ) . save () >>> Transport . objects . all () < QuerySet [ < Transport : Transport object ( 0 ) > , < Transport : Transport object ( 1 ) > , < Transport : Transport object ( 2 ) > , < Transport : Transport object ( 3 ) > , < Transport : Transport object ( 4 ) > , < Transport : Transport object ( 5 ) > , < Transport : Transport object ( 6 ) > ] > >>> \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432 >>> Driver_doc ( '1' , '1' , 'num1' , 'type1' , '1933-05-1' ) . save () >>> Driver_doc ( '2' , '2' , 'num2' , 'type2' , '1933-05-2' ) . save () >>> Driver_doc ( '3' , '3' , 'num3' , 'type3' , '1933-05-3' ) . save () >>> Driver_doc ( '4' , '4' , 'num4' , 'type4' , '1933-05-4' ) . save () >>> Driver_doc ( '5' , '5' , 'num5' , 'type5' , '1933-05-5' ) . save () >>> Driver_doc ( '6' , '6' , 'num6' , 'type6' , '1933-05-6' ) . save () \u041f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438 >>> Ownership ( '1' , '1' , '1' , '1936-09-11' , '1940-09-11' ) . save () >>> Ownership ( '2' , '2' , '2' , '1936-09-12' , '1940-09-12' ) . save () >>> Ownership ( '3' , '3' , '3' , '1936-09-13' , '1940-09-13' ) . save () >>> Ownership ( '4' , '4' , '4' , '1936-09-14' , '1940-09-14' ) . save () >>> Ownership ( '5' , '5' , '5' , '1936-09-15' , '1940-09-15' ) . save () >>> Ownership ( '6' , '6' , '6' , '1936-09-16' , '1940-09-16' ) . save ()","title":"\u0417\u0410\u0414\u0410\u041d\u0418\u0415 3.1.1"},{"location":"#312","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:\u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): >>> Transport . objects . filter ( marka = \"Mark5\" ) < QuerySet [ < Transport : Transport object ( 5 ) > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): >>> Transport_owner . objects . filter ( first_name = \"Name2\" ) < QuerySet [ < Transport_owner : Transport_owner object ( 2 ) > ] > \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): >>> needed_id = Transport_owner . objects . all ()[ 3 ] . id_owner >>> Driver_doc . objects . get ( id_owner = needed_id ) < Driver_doc : Driver_doc object ( 3 ) > \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): >>> for i in range ( len ( Transport . objects . filter ( color = \"green\" ))): ... print ( Transport . objects . filter ( color = \"green\" )[ i ]) ... Transport object ( 7 ) \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): >>> Ownership . objects . filter ( date_start__gte = \"1936-01-01\" ) < QuerySet [ < Ownership : Ownership object ( 1 ) > , < Ownership : Ownership object ( 2 ) > , < Ownership : Ownership object ( 3 ) > , < Ownership : Ownership object ( 4 ) > , < Ownership : Ownership object ( 5 ) > , < Ownership : Ownership object ( 6 ) > ] >","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2"},{"location":"#313","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> from django.db.models import Avg , Min , Max , Count >>> Driver_doc . objects . aggregate ( date_start_doc = Min ( \"date_start_doc\" )) { 'date_start_doc' : datetime . date ( 1933 , 5 , 1 )} \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: >>> Ownership . objects . aggregate ( date_start = Max ( \"date_start\" )) { 'date_start' : datetime . date ( 1936 , 9 , 16 )} \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: >>> Ownership . objects . values ( \"id_owner\" ) . annotate ( Count ( \"id_car\" )) < QuerySet [{ 'id_owner' : 1 , 'id_car__count' : 1 }, { 'id_owner' : 2 , 'id_car__count' : 1 }, { 'id_owner' : 3 , 'id_car__count' : 1 }, { 'id_owner' : 4 , 'id_car__count' : 1 }, { 'id_owner' : 5 , 'id_car__count' : 1 }, { 'id_owner' : 6 , 'id_car__count' : 1 }] > \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: >>> Transport . objects . values ( \"marka\" ) . annotate ( Count ( \"id_car\" )) < QuerySet [{ 'marka' : 'Mark7' , 'id_car__count' : 1 }, { 'marka' : 'Mark0' , 'id_car__count' : 1 }, { 'marka' : 'Mark8' , 'id_car__count' : 1 }, { 'marka' : 'Mark2' , 'id_car__count' : 1 }, { 'marka' : 'Mark6' , 'id_car__count' : 1 }, { 'marka' : 'Mark1' , 'id_car__count' : 1 }, { 'marka' : 'Mark5' , 'id_car__count' : 1 }, { 'marka' : 'Mark4' , 'id_car__count' : 1 }, { 'marka' : 'Mark3' , 'id_car__count' : 1 }] > \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: >>> sort_by_date = Driver_doc . objects . all () . order_by ( \"date_start_doc\" ) >>> for i in sort_by_date : ... ... ... needed_id = i . id_owner . id_owner ... print ( Ownership . objects . filter ( id_owner__id_owner = needed_id ) ) ... < QuerySet [ < Ownership : Ownership object ( 1 ) > ] > < QuerySet [ < Ownership : Ownership object ( 2 ) > ] > < QuerySet [ < Ownership : Ownership object ( 3 ) > ] > < QuerySet [ < Ownership : Ownership object ( 4 ) > ] > < QuerySet [ < Ownership : Ownership object ( 5 ) > ] > < QuerySet [ < Ownership : Ownership object ( 6 ) > ] >","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3"}]}